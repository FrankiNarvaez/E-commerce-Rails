<header class="flex flex-wrap lg:flex-nowrap justify-between py-4 sm:px-[10%] fixed w-screen backdrop-blur-md" data-controller="menu">
  <%= link_to products_path, class: "text-3xl font-bold text-main-color flex items-center" do %>
    <h1><%= t('app_title') %></h1>
  <% end %>

  <input type="checkbox" id="checkbox" data-action="click->menu#toggle" class="hidden">
  <label for="checkbox" class="toggle lg:hidden relative w-8 h-7 cursor-pointer flex flex-col items-center justify-center gap-2 duration-500">
    <div class="bars bg-black" id="bar1"></div>
    <div class="bars bg-black" id="bar2"></div>
    <div class="bars bg-black" id="bar3"></div>
  </label>

  <section class="items-center gap-4 hidden lg:flex">
    <%= render partial: "shared/items" %>
  </section>

  <!-- Menu mobile -->
  <section class="flex lg:hidden justify-center z-10 h-0 items-center w-full flex-col min-w-[35%] ease-in-out duration-200 -translate-y-48" data-menu-target="items">
    <%= render partial: "shared/items" %>
  </section>
</header>

<style>
.bars {
  width: 100%;
  height: 3px;
  border-radius: 4px;
}

#bar2 {
  transition-duration: .8s;
}

#bar1,#bar3 {
  width: 70%;
}

#checkbox:checked + .toggle .bars {
  position: absolute;
  transition-duration: .5s;
}

#checkbox:checked + .toggle #bar2 {
  transform: scaleX(0);
  transition-duration: .5s;
}

#checkbox:checked + .toggle #bar1 {
  width: 100%;
  transform: rotate(45deg);
  transition-duration: .5s;
}

#checkbox:checked + .toggle #bar3 {
  width: 100%;
  transform: rotate(-45deg);
  transition-duration: .5s;
}

#checkbox:checked + .toggle {
  transition-duration: .5s;
  transform: rotate(180deg);
}
</style>
